<div>
	<div class="max-w-4xl mx-auto">
		<form [formGroup]="profileForm" (ngSubmit)="onSubmit()" class="bg-white p-8 rounded-2xl shadow-xl">
			<!-- Header -->
			<div class="flex items-center gap-3 mb-8 border-b pb-6">
				<svg
					xmlns="http://www.w3.org/2000/svg"
					class="h-8 w-8 text-blue-600"
					fill="none"
					viewBox="0 0 24 24"
					stroke="currentColor"
				>
					<path
						stroke-linecap="round"
						stroke-linejoin="round"
						stroke-width="2"
						d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
					/>
				</svg>
				<h2 class="text-2xl font-bold text-gray-900">Perfil de Usuario</h2>
			</div>

			<nz-spin [nzSpinning]="isLoading" nzTip="Actualizando datos...">
				<div class="space-y-8">
					<!-- Nombres -->

					<!-- Información Personal -->
					<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
						<!-- Nombres -->
						<div class="form-group">
							<label for="nombres" class="block text-sm font-bold text-gray-800 mb-2">Nombres</label>
							<div class="relative">
								<input
									type="text"
									formControlName="nombres"
									class="w-full pl-10 pr-4 py-3 rounded-lg bg-white border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-300 ease-in-out"
									placeholder="Ingrese sus nombres"
								/>
								<svg
									xmlns="http://www.w3.org/2000/svg"
									class="h-6 w-6 text-gray-500 absolute left-3 top-1/2 -translate-y-1/2"
									fill="none"
									viewBox="0 0 24 24"
									stroke="currentColor"
								>
									<path
										stroke-linecap="round"
										stroke-linejoin="round"
										stroke-width="2"
										d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
									/>
								</svg>
							</div>
							<p
								*ngIf="nombresControl?.invalid && (nombresControl?.dirty || nombresControl?.touched)"
								class="text-red-500 text-xs mt-1"
							>
								Nombres son requeridos
							</p>
						</div>

						<!-- Apellido Paterno -->
						<div class="form-group">
							<label for="apellido_paterno" class="block text-sm font-bold text-gray-800 mb-2">Apellido Paterno</label>
							<div class="relative">
								<input
									type="text"
									formControlName="apellido_paterno"
									class="w-full pl-10 pr-4 py-3 rounded-lg bg-white border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-300 ease-in-out"
									placeholder="Ingrese su apellido paterno"
								/>
								<svg
									xmlns="http://www.w3.org/2000/svg"
									class="h-6 w-6 text-gray-500 absolute left-3 top-1/2 -translate-y-1/2"
									fill="none"
									viewBox="0 0 24 24"
									stroke="currentColor"
								>
									<path
										stroke-linecap="round"
										stroke-linejoin="round"
										stroke-width="2"
										d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
									/>
								</svg>
							</div>
							<p
								*ngIf="
									apellidoPaternoControl?.invalid && (apellidoPaternoControl?.dirty || apellidoPaternoControl?.touched)
								"
								class="text-red-500 text-xs mt-1"
							>
								Apellido paterno es requerido
							</p>
						</div>

						<!-- Apellido Materno -->
						<div class="form-group">
							<label for="apellido_materno" class="block text-sm font-bold text-gray-800 mb-2">Apellido Materno</label>
							<div class="relative">
								<input
									type="text"
									formControlName="apellido_materno"
									class="w-full pl-10 pr-4 py-3 rounded-lg bg-white border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-300 ease-in-out"
									placeholder="Ingrese su apellido materno"
								/>
								<svg
									xmlns="http://www.w3.org/2000/svg"
									class="h-6 w-6 text-gray-500 absolute left-3 top-1/2 -translate-y-1/2"
									fill="none"
									viewBox="0 0 24 24"
									stroke="currentColor"
								>
									<path
										stroke-linecap="round"
										stroke-linejoin="round"
										stroke-width="2"
										d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
									/>
								</svg>
							</div>
							<p
								*ngIf="
									apellidoMaternoControl?.invalid && (apellidoMaternoControl?.dirty || apellidoMaternoControl?.touched)
								"
								class="text-red-500 text-xs mt-1"
							>
								Apellido materno es requerido
							</p>
						</div>
					</div>

					<!-- tipo telefono -->
					<div class="space-y-4">
						<!-- Tipo de Teléfono -->
						<div class="w-full">
							<label class="block text-sm font-medium text-gray-700 mb-1">Tipo de Teléfono</label>
							<select
								formControlName="id_tipo_telefono"
								class="w-full outline-none rounded-md border border-gray-300 py-2 px-3 text-sm focus:ring-blue-500 focus:border-blue-500"
							>
								@for (tipo of tipoTelefonos; track tipo.id_tipo_telefono) {
									<option [value]="tipo.id_tipo_telefono">{{ tipo.tipo_telefono }}</option>
								}
							</select>
							<!-- Error messages -->
							<ng-container
								*ngIf="
									id_tipo_telefonoControl?.invalid &&
									(id_tipo_telefonoControl?.dirty || id_tipo_telefonoControl?.touched)
								"
							>
								<p class="text-red-500 text-xs mt-1" *ngIf="id_tipo_telefonoControl?.errors?.['required']">
									Tipo de teléfono es requerido
								</p>
							</ng-container>
						</div>
						<!-- Teléfono -->
						<div class="w-full">
							<label class="block text-sm font-medium text-gray-700 mb-1">Teléfono</label>
							<input
								type="text"
								formControlName="telefono"
								placeholder="Ingrese teléfono"
								class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
							/>
							<!-- Validación de errores -->
							<p
								*ngIf="telefonoControl?.invalid && (telefonoControl?.dirty || telefonoControl?.touched)"
								class="text-red-500 text-xs mt-1"
							>
								Teléfono es requerido
							</p>
						</div>
					</div>
					<!-- Dirección -->
					<div class="form-group relative">
						<label for="direccion_persona" class="block text-sm font-semibold text-gray-700 mb-2">Dirección</label>
						<div class="relative">
							<input
								type="text"
								formControlName="direccion_persona"
								class="w-full pl-10 pr-4 py-3 rounded-xl bg-gray-50 border-2 border-gray-200 focus:bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 outline-none"
								placeholder="Ingrese su dirección"
							/>
							<svg
								xmlns="http://www.w3.org/2000/svg"
								class="h-5 w-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"
								fill="none"
								viewBox="0 0 24 24"
								stroke="currentColor"
							>
								<path
									stroke-linecap="round"
									stroke-linejoin="round"
									stroke-width="2"
									d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"
								/>
								<path
									stroke-linecap="round"
									stroke-linejoin="round"
									stroke-width="2"
									d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"
								/>
							</svg>

							<p
								*ngIf="
									direccionPersonaControl?.invalid &&
									(direccionPersonaControl?.dirty || direccionPersonaControl?.touched)
								"
								class="text-red-500 text-xs mt-1"
							>
								Direccion es campo requerido
							</p>
						</div>
					</div>
				</div>
			</nz-spin>

			<!-- Botones Mejorados -->
			<div class="flex justify-end space-x-4 mt-8 pt-6 border-t">
				<button
					type="submit"
					class="px-6 py-3 rounded-xl bg-blue-600 text-white hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200"
				>
					Guardar Cambios
				</button>
			</div>
		</form>
	</div>
</div>
